description = "Automatically configure On-Premises IIS deployment process (CD) for the project"

prompt = """
Act as a **Senior DevOps Architect** to configure the Continuous Deployment (CD) process for On-Premises IIS:

1. **Perceive**:
   - Read `skills/azure-pipelines/SKILL.md` to load design specifications.
   - Confirm IIS parameters: Website Name, Physical Path, Deployment Group name, and target environment.
   - Verify if the project requires specific ASP.NET Core environment settings.

2. **Reason**:
   - Plan to copy the entire `skills/azure-pipelines/templates/util/iis/` directory and the `deploy/deploy-iis.yml` template.
   - Design a pipeline with staged tasks including backup and rollback logic as required by `SKILL.md`.

3. **Act**:
   - Copy all necessary IIS deployment templates to the project's `.pipelines/templates/` directory.
   - Generate the deployment script (e.g., `azure-pipelines-cd-iis.yml`) in the project root, referencing `deploy-iis.yml` with parameters like `websiteName` and `physicalPath`.
   - Ensure the script integrates `iis-backup.yml` and `iis-rollback.yml` logic.
   - Explain the requirements for Service Connection permissions and Deployment Group configuration.
"""
